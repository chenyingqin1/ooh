{"version":3,"sources":["webpack:///D:/git/OOH/main.js","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?da35","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?0264","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?aa21","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?aa85","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?f776","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?8d5f"],"names":["createPage","Page","mixins","allPage","publicCheck","components","beforeCreate","data","options","controls","videoPosterImg","selectImgIndex","selectTempFlie","fileUrl","shootTime","location","description","spareFlie","computed","systemInfo","$store","state","userLogin","seleSpotFile","details","onShow","implement","chooseWxImageVideo","imgList","i","length","isSelect","console","log","destroyed","onLoad","onReady","onHide","onReachBottom","onPullDownRefresh","mounted","watch","newVal","oldVal","onPageScroll","e","methods","selectImgCh","index","flieBrowse","uni","previewImage","urls","current","longpressCh","_this","showModal","title","content","success","res","confirm","splice","cancel","submit","Promise","resolve","parms","user","openid","taskId","spotClassType","monitorStage","dispatch","callback","res1","then","showLoading","JSON","stringify","res2","errorCode","wx","navigateBack","delta","showToast","errorMsg","icon","mask","hideLoading","getLocation","type","latitude","longitude","commonList","dateToUnix","getCurrentTime","lat","lon","spotLocation","phoneSystem","phoneSystemVersion","model","phoneModel","version","cameraType","chooseImage","sizeType","sourceType","res3","unshift","tempFiles","path","thumbnailUrl","fileSize","size","chooseVideo","maxDuration","camera","tempFilePath","myDate","Date","year","getFullYear","month","getMonth","date","getDate","h","getHours","m","getMinutes","s","getSeconds","getNow"],"mappings":"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","file":"pages/photoSubmission/photoSubmission.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/photoSubmission/photoSubmission.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./photoSubmission.vue?vue&type=template&id=bcc4729a&scoped=true&\"\nvar renderjs\nimport script from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nexport * from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bcc4729a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"D:/git/OOH/pages/photoSubmission/photoSubmission.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=template&id=bcc4729a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.timestampToTime(_vm.selectTempFlie.shootTime)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport allPage from \"@/mixin/allPage_MX\";\nimport util from '@/common/util.js'\nimport publicCheck from \"@/mixin/publicCheck_MX.js\";\nexport default {\n\tmixins: [allPage,publicCheck],\n\tcomponents: {\n\t\t\n\t},\n\tbeforeCreate() {\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\toptions: null,\n\t\t\tcontrols: false, //是否显示默认播放控件（播放/暂停按钮、播放进度、时间）\n\t\t\tvideoPosterImg: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg', //视频封面图\n\t\t\tselectImgIndex: 0,\n\t\t\tselectTempFlie:{  \n\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\tshootTime: '',\n\t\t\t\tlocation: '',\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\tspareFlie:[],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsystemInfo() {\n\t\t\treturn this.$store.state.userLogin.systemInfo\n\t\t},\n\t\tuserLogin() {\n\t\t\treturn this.$store.state.userLogin.userLogin\n\t\t},\n\t\tseleSpotFile() {\n\t\t\treturn this.$store.state.details.seleSpotFile\n\t\t},\n\t},\n\tonShow: function() {\n\t\tif(this.options.implement == \"true\"){\n\t\t\tthis.chooseWxImageVideo();\n\t\t}else{\n\t\t\tthis.spareFlie = this.seleSpotFile.imgList;\n\t\t\tfor(let i=0; i<this.seleSpotFile.imgList.length; i++){\n\t\t\t\tif(this.seleSpotFile.imgList[i].isSelect){\n\t\t\t\t\tthis.selectTempFlie = this.seleSpotFile.imgList[i];\n\t\t\t\t\tthis.selectImgIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(this.selectTempFlie)\n\t\t}\n\t},\n\tdestroyed: function(){\n\t\t\n\t},\n\tonLoad: function(options) {\n\t\tthis.options = options;\n\t},\n\tonReady: function() {\n\t\t\n\t},\n\tonHide: function(options) {\n\t\t\n\t},\n\tonReachBottom: function(options) {\n\t\t\n\t},\n\n\tonPullDownRefresh() {\n\t\t\n\t},\n\tmounted() {\n\t\t\n\t},\n\twatch: {\n\t\tselectTempFlie(newVal, oldVal) {\n\t\t\tif(newVal.location){\n\t\t\t\tthis.controls = true;\n\t\t\t\tthis.videoPosterImg = '';\n\t\t\t}\n\t\t}\n\t},\n\tonPageScroll: function(e) {\n\t\t\n\t},\n\tmethods: {\n\t\t// 图片视频选择\n\t\tselectImgCh(index){\n\t\t\tthis.selectImgIndex = index;\n\t\t\tfor(let i=0; i<this.spareFlie.length; i++){\n\t\t\t\tthis.spareFlie[i].isSelect = false;\n\t\t\t}\n\t\t\tthis.spareFlie[index].isSelect = true;\n\t\t\tthis.selectTempFlie = this.spareFlie[index];\n\t\t},\n\t\t// 图片浏览\n\t\tflieBrowse(){\n\t\t\tuni.previewImage({\n\t\t\t\turls: [this.selectTempFlie.fileUrl],\n\t\t\t\tcurrent: 0\n\t\t\t})\n\t\t},\n\t\t// 图片长按删除\n\t\tlongpressCh(index){\n\t\t\tlet _this = this;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否确认删除图片？',\n\t\t\t\tsuccess (res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t_this.spareFlie.splice(index, 1);\n\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie.length > 0 ? _this.spareFlie[0] : {fileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',shootTime: ''};\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log('用户点击取消')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 确认\n\t\tsubmit(){ \n\t\t\tconsole.log(this.spareFlie)\n\t\t\tnew Promise(resolve => {\n\t\t\t\t// 先删除已存的所有图片\n\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFile\":{\"taskId\":' + this.seleSpotFile.taskId + ', \"spotClassType\":' + this.seleSpotFile.spotClassType + ', \"monitorStage\":' + this.seleSpotFile.monitorStage + '}';\n\t\t\t\tthis.$store.dispatch('myList/taskfileDelete', {parms,\n\t\t\t\t\tcallback: (res1) => {\n\t\t\t\t\t\tconsole.log(res1);\n\t\t\t\t\t\tresolve(res1)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\t// 重新提交现所有的图片\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '提交中'\n\t\t\t\t});\n\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFiles\":'+ JSON.stringify(this.spareFlie) + '';\n\t\t\t\tthis.$store.dispatch('details/taskfileSave', {parms,\n\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\twx.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1,  // 返回上一级页面。\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tconsole.log('成功！')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 唤起手机拍照/视频功能\n\t\tchooseWxImageVideo(){\n\t\t\tvar _this = this;\n\t\t\tthis.options.implement = \"false\";\n\t\t\t// 获取当前定位坐标,成功后才执行拍照/视频\n\t\t\twx.getLocation({\n\t\t\t\ttype: 'wgs84',\n\t\t\t\tsuccess: function (res1) {\n\t\t\t        console.log(res1)\n\t\t\t\t\t// 通过经纬度获取详细地址\n\t\t\t\t\tlet parms = '},\"position\":{\"lat\":\"' + res1.latitude + '\", \"lng\":\"' + res1.longitude + '\"}';\n\t\t\t\t\t_this.$store.dispatch('details/getPosition', {parms,\n\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\tconsole.log(res2)\n\t\t\t\t\t\t\tif(res2.errorCode == 0){\n\t\t\t\t\t\t\t\tfor(let i=0; i<_this.spareFlie.length; i++){\n\t\t\t\t\t\t\t\t\t_this.spareFlie[i].isSelect= false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet commonList = {\n\t\t\t\t\t\t\t\t\ttaskId: _this.seleSpotFile.taskId,\n\t\t\t\t\t\t\t\t\tshootTime: _this.dateToUnix(_this.getCurrentTime()),\n\t\t\t\t\t\t\t\t\tlat: res1.latitude,\n\t\t\t\t\t\t\t\t\tlon: res1.longitude,\n\t\t\t\t\t\t\t\t\tlocation: res2.spotLocation,\n\t\t\t\t\t\t\t\t\tmonitorStage: _this.seleSpotFile.monitorStage,\n\t\t\t\t\t\t\t\t\tspotClassType: _this.seleSpotFile.spotClassType,\n\t\t\t\t\t\t\t\t\tdescription: res1.latitude + ',' + res1.longitude,\n\t\t\t\t\t\t\t\t\tphoneSystem: '微信小程序',\n\t\t\t\t\t\t\t\t\tphoneSystemVersion: _this.systemInfo.model,\n\t\t\t\t\t\t\t\t\tphoneModel: '12.4 【'+ _this.systemInfo.version +'】',\n\t\t\t\t\t\t\t\t\tisSelect: true,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_this.options.cameraType == 2){ // 拍照功能\n\t\t\t\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\t\t\t\tsizeType: ['original','compressed'],\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3);\n\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\n\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFiles[0].path,\n\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFiles[0].path,\n\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.tempFiles[0].size,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(_this.selectTempFlie)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{ // 视频功能\n\t\t\t\t\t\t\t\t\tuni.chooseVideo({\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tmaxDuration: 60,\n\t\t\t\t\t\t\t\t\t\tcamera: 'back',\n\t\t\t\t\t\t\t\t\t\tsuccess(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3)\n\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\n\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.size,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t// 获取当前时间\n\t\tgetCurrentTime(){\n\t\t\tlet myDate = new Date();\n\t\t\t//获取当前年\n\t\t\tlet year=myDate.getFullYear();\n\t\t\t//获取当前月\n\t\t\tlet month=myDate.getMonth()+1;\n\t\t\t//获取当前日\n\t\t\tlet date=myDate.getDate(); \n\t\t\tlet h=myDate.getHours();       //获取当前小时数(0-23)\n\t\t\tlet m=myDate.getMinutes();     //获取当前分钟数(0-59)\n\t\t\tlet s=myDate.getSeconds();  \n\t\t\treturn year+'-'+this.getNow(month)+\"-\"+this.getNow(date)+\" \"+this.getNow(h)+':'+this.getNow(m)+\":\"+this.getNow(s);\n\t\t},\n\t\tgetNow(s) {\n\t\t\treturn s < 10 ? '0' + s: s;\n\t\t}\n\t},\n\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592037523493\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}