{"version":3,"sources":["webpack:///D:/git/OOH/main.js","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?da35","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?0264","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?aa21","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?aa85","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?f776","webpack:///D:/git/OOH/pages/photoSubmission/photoSubmission.vue?8d5f"],"names":["createPage","Page","mixins","allPage","components","beforeCreate","data","options","controls","videoPosterImg","selectImgIndex","selectTempFlie","fileUrl","shootTime","location","description","spareFlie","computed","systemInfo","$store","state","userLogin","seleSpotFile","details","onShow","implement","chooseWxImageVideo","imgList","i","length","isSelect","console","log","destroyed","onLoad","onReady","onHide","onReachBottom","onPullDownRefresh","mounted","watch","newVal","oldVal","onPageScroll","e","methods","selectImgCh","index","flieBrowse","uni","previewImage","urls","current","longpressCh","_this","showModal","title","content","success","res","confirm","splice","cancel","submit","Promise","resolve","parms","user","openid","taskId","dispatch","callback","res1","then","showLoading","JSON","stringify","res2","errorCode","showToast","errorMsg","icon","mask","hideLoading","wx","getLocation","type","latitude","longitude","commonList","getCurrentTime","lat","lon","spotLocation","monitorStage","spotClassType","phoneSystem","system","phoneSystemVersion","model","phoneModel","cameraType","chooseImage","sizeType","sourceType","res3","unshift","fileType","tempFiles","path","thumbnailUrl","fileSize","size","chooseVideo","maxDuration","camera","tempFilePath","myDate","Date","year","getFullYear","month","getMonth","date","getDate","h","getHours","m","getMinutes","s","getSeconds","getNow"],"mappings":"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","file":"pages/photoSubmission/photoSubmission.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/photoSubmission/photoSubmission.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./photoSubmission.vue?vue&type=template&id=bcc4729a&scoped=true&\"\nvar renderjs\nimport script from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nexport * from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bcc4729a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"D:/git/OOH/pages/photoSubmission/photoSubmission.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=template&id=bcc4729a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport allPage from \"@/mixin/allPage_MX\";\nimport util from '@/common/util.js'\nexport default {\n\tmixins: [allPage],\n\tcomponents: {\n\t\t\n\t},\n\tbeforeCreate() {\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\toptions: null,\n\t\t\tcontrols: false, //是否显示默认播放控件（播放/暂停按钮、播放进度、时间）\n\t\t\tvideoPosterImg: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg', //视频封面图\n\t\t\tselectImgIndex: 0,\n\t\t\tselectTempFlie:{  \n\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\tshootTime: '',\n\t\t\t\tlocation: '',\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\tspareFlie:[],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsystemInfo() {\n\t\t\treturn this.$store.state.userLogin.systemInfo\n\t\t},\n\t\tuserLogin() {\n\t\t\treturn this.$store.state.userLogin.userLogin\n\t\t},\n\t\tseleSpotFile() {\n\t\t\treturn this.$store.state.details.seleSpotFile\n\t\t},\n\t},\n\tonShow: function() {\n\t\tif(this.options.implement == \"true\"){\n\t\t\tthis.chooseWxImageVideo();\n\t\t}else{\n\t\t\tthis.spareFlie = this.seleSpotFile.imgList;\n\t\t\tfor(let i=0; i<this.seleSpotFile.imgList.length; i++){\n\t\t\t\tif(this.seleSpotFile.imgList[i].isSelect){\n\t\t\t\t\tthis.selectTempFlie = this.seleSpotFile.imgList[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(this.selectTempFlie)\n\t\t}\n\t},\n\tdestroyed: function(){\n\t\t\n\t},\n\tonLoad: function(options) {\n\t\tthis.options = options;\n\t},\n\tonReady: function() {\n\t\t\n\t},\n\tonHide: function(options) {\n\t\t\n\t},\n\tonReachBottom: function(options) {\n\t\t\n\t},\n\n\tonPullDownRefresh() {\n\t\t\n\t},\n\tmounted() {\n\t\t\n\t},\n\twatch: {\n\t\tselectTempFlie(newVal, oldVal) {\n\t\t\tif(newVal.location){\n\t\t\t\tthis.controls = true;\n\t\t\t\tthis.videoPosterImg = '';\n\t\t\t}\n\t\t}\n\t},\n\tonPageScroll: function(e) {\n\t\t\n\t},\n\tmethods: {\n\t\t// 图片视频选择\n\t\tselectImgCh(index){\n\t\t\tthis.selectImgIndex = index;\n\t\t\tfor(let i=0; i<this.spareFlie.length; i++){\n\t\t\t\tthis.spareFlie[i].isSelect = false;\n\t\t\t}\n\t\t\tthis.spareFlie[index].isSelect = true;\n\t\t\tthis.selectTempFlie = this.spareFlie[index];\n\t\t},\n\t\t// 图片浏览\n\t\tflieBrowse(){\n\t\t\tuni.previewImage({\n\t\t\t\turls: [this.selectTempFlie.fileUrl],\n\t\t\t\tcurrent: 0\n\t\t\t})\n\t\t},\n\t\t// 图片长按删除\n\t\tlongpressCh(index){\n\t\t\tlet _this = this;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否确认删除图片？',\n\t\t\t\tsuccess (res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t_this.spareFlie.splice(index, 1);\n\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie.length > 0 ? _this.spareFlie[0] : {fileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',shootTime: ''};\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log('用户点击取消')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 确认\n\t\tsubmit(){ \n\t\t\tconsole.log(this.spareFlie)\n\t\t\tnew Promise(resolve => {\n\t\t\t\t// 先删除已存的所有图片\n\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFile\":{\"taskId\":' + this.seleSpotFile.taskId + '}';\n\t\t\t\tthis.$store.dispatch('details/fileDelete', {parms,\n\t\t\t\t\tcallback: (res1) => {\n\t\t\t\t\t\tconsole.log(res1);\n\t\t\t\t\t\t// if (res1.errorCode == 0) {\n\t\t\t\t\t\t\tresolve(res1)\n\t\t\t\t\t\t// }else{\n\t\t\t\t\t\t// \tuni.showToast({\n\t\t\t\t\t\t// \t\ttitle: res1.errorMsg,\n\t\t\t\t\t\t// \t\ticon: 'none',\n\t\t\t\t\t\t// \t\tmask: true\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}).then(res => {\n\t\t\t\t// 重新提交现所有的图片\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '提交中'\n\t\t\t\t});\n\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFiles\":'+ JSON.stringify(this.spareFlie) + '';\n\t\t\t\tthis.$store.dispatch('details/taskfileSave', {parms,\n\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tchooseWxImageVideo(){\n\t\t\tvar _this = this;\n\t\t\tthis.options.implement = \"false\";\n\t\t\t// 获取当前定位坐标,成功后才执行拍照/视频\n\t\t\twx.getLocation({\n\t\t\t\ttype: 'wgs84',\n\t\t\t\tsuccess: function (res1) {\n\t\t\t        console.log(res1)\n\t\t\t\t\t// 通过经纬度获取详细地址\n\t\t\t\t\tlet parms = '},\"position\":{\"lat\":\"' + res1.latitude + '\", \"lng\":\"' + res1.longitude + '\"}';\n\t\t\t\t\t_this.$store.dispatch('details/getPosition', {parms,\n\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\tconsole.log(res2)\n\t\t\t\t\t\t\tif(res2.errorCode == 0){\n\t\t\t\t\t\t\t\tfor(let i=0; i<_this.spareFlie.length; i++){\n\t\t\t\t\t\t\t\t\t_this.spareFlie[i].isSelect = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet commonList = {\n\t\t\t\t\t\t\t\t\ttaskId: _this.seleSpotFile.taskId,\n\t\t\t\t\t\t\t\t\tshootTime: _this.getCurrentTime(),\n\t\t\t\t\t\t\t\t\tlat: res1.latitude,\n\t\t\t\t\t\t\t\t\tlon: res1.longitude,\n\t\t\t\t\t\t\t\t\tlocation: res2.spotLocation,\n\t\t\t\t\t\t\t\t\tmonitorStage: _this.seleSpotFile.monitorStage,\n\t\t\t\t\t\t\t\t\tspotClassType: _this.seleSpotFile.spotClassType,\n\t\t\t\t\t\t\t\t\tdescription: res1.latitude + ',' + res1.longitude,\n\t\t\t\t\t\t\t\t\tphoneSystem: _this.systemInfo.system,\n\t\t\t\t\t\t\t\t\tphoneSystemVersion: _this.systemInfo.model,\n\t\t\t\t\t\t\t\t\tphoneModel: _this.systemInfo.system,\n\t\t\t\t\t\t\t\t\tisSelect: true,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_this.options.cameraType == 2){ // 拍照功能\n\t\t\t\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\t\t\t\tsizeType: ['original','compressed'],\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3);\n\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\n\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\tfileType: 'png',\n\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFiles[0].path,\n\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFiles[0].path,\n\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.tempFiles[0].size,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(_this.spareFlie)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{ // 视频功能\n\t\t\t\t\t\t\t\t\tuni.chooseVideo({\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tmaxDuration: 60,\n\t\t\t\t\t\t\t\t\t\tcamera: 'back',\n\t\t\t\t\t\t\t\t\t\tsuccess(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3)\n\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\n\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\tfileType: 'png',\n\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.size,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t// 获取当前时间\n\t\tgetCurrentTime(){\n\t\t\tlet myDate = new Date();\n\t\t\t//获取当前年\n\t\t\tlet year=myDate.getFullYear();\n\t\t\t//获取当前月\n\t\t\tlet month=myDate.getMonth()+1;\n\t\t\t//获取当前日\n\t\t\tlet date=myDate.getDate(); \n\t\t\tlet h=myDate.getHours();       //获取当前小时数(0-23)\n\t\t\tlet m=myDate.getMinutes();     //获取当前分钟数(0-59)\n\t\t\tlet s=myDate.getSeconds();  \n\t\t\treturn year+'-'+this.getNow(month)+\"-\"+this.getNow(date)+\" \"+this.getNow(h)+':'+this.getNow(m)+\":\"+this.getNow(s);\n\t\t},\n\t\tgetNow(s) {\n\t\t\treturn s < 10 ? '0' + s: s;\n\t\t}\n\t},\n\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=bcc4729a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591956093425\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}