{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/project/ooh/pages/photoSubmission/photoSubmission.vue?2f4e","webpack:///D:/project/ooh/pages/photoSubmission/photoSubmission.vue?9b20","webpack:///D:/project/ooh/pages/photoSubmission/photoSubmission.vue?0569","uni-app:///pages/photoSubmission/photoSubmission.vue","webpack:///D:/project/ooh/pages/photoSubmission/photoSubmission.vue?55dc","webpack:///D:/project/ooh/pages/photoSubmission/photoSubmission.vue?27d5"],"names":["createPage","Page"],"mappings":"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","file":"pages/photoSubmission/photoSubmission.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/photoSubmission/photoSubmission.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./photoSubmission.vue?vue&type=template&id=9e134ff2&scoped=true&\"\nvar renderjs\nimport script from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nexport * from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./photoSubmission.vue?vue&type=style&index=0&id=9e134ff2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e134ff2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/ooh/pages/photoSubmission/photoSubmission.vue\"\nexport default component.exports","export * from \"-!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./photoSubmission.vue?vue&type=template&id=9e134ff2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.timestampToTime(_vm.selectTempFlie.shootTime)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./photoSubmission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./photoSubmission.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"imgInfo\">\r\n\t\t\t<view class=\"imgList\">\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view class=\"name\">拍摄时间 {{selectTempFlie.shootTime?timestampToTime(selectTempFlie.shootTime):''}}</view>\r\n\t\t\t\t\t<scroll-view :scroll-x=\"true\">\r\n\t\t\t\t\t\t<view class=\"imgBox\" :class=\"{cur:selectImgIndex == index}\" v-for=\"(item, index) in spareFlie\" :key=\"index\">\r\n\t\t\t\t\t\t\t<image class=\"img\" v-if=\"options.cameraType == '2'\"  @click=\"selectImgCh(index)\" @longpress=\"longpressCh(index)\" :src=\"item.fileUrl\">\r\n\t\t\t\t\t\t\t<video class=\"img\" v-if=\"options.cameraType == '1'\"  @click=\"selectImgCh(index)\" @longpress=\"longpressCh(index)\" :controls=\"false\" :src=\"item.fileUrl\"></video>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<image class=\"img\" v-if=\"options.cameraType == '2'\" mode=\"widthFix\" @click=\"flieBrowse\" :src=\"selectTempFlie.fileUrl\">\r\n\t\t\t\t<video class=\"video\" v-if=\"options.cameraType == '1'\" :custom-cache=\"false\" :controls=\"controls\" :poster=\"videoPosterImg\" :src=\"selectTempFlie.fileUrl\"></video>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info\">\r\n\t\t\t\t<view><text>拍摄地点</text>{{selectTempFlie.location}}</view>\r\n\t\t\t\t<view class=\"flex-box\"><text>说明</text><input class=\"flex-one input\" type=\"text\" :value=\"selectTempFlie.description\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"operation flex-box\">\r\n\t\t\t<view class=\"flex-one\" @click=\"chooseWxImageVideo\">{{options.cameraType == '2' ? '继续拍照' : '继续拍视频'}}</view>\r\n\t\t\t<view class=\"flex-one cur\" @click=\"submit\">确认</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport allPage from \"@/mixin/allPage_MX\";\r\n\timport util from '@/common/util.js'\r\n\timport publicCheck from \"@/mixin/publicCheck_MX.js\";\r\n\texport default {\r\n\t\tmixins: [allPage,publicCheck],\r\n\t\tcomponents: {\r\n\t\t\t\r\n\t\t},\r\n\t\tbeforeCreate() {\r\n\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toptions: null,\r\n\t\t\t\tcontrols: false, //是否显示默认播放控件（播放/暂停按钮、播放进度、时间）\r\n\t\t\t\tvideoPosterImg: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg', //视频封面图\r\n\t\t\t\tselectImgIndex: 0,\r\n\t\t\t\tselectTempFlie:{  \r\n\t\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\r\n\t\t\t\t\tshootTime: '',\r\n\t\t\t\t\tlocation: '',\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t},\r\n\t\t\t\tspareFlie:[],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsystemInfo() {\r\n\t\t\t\treturn this.$store.state.userLogin.systemInfo\r\n\t\t\t},\r\n\t\t\tuserLogin() {\r\n\t\t\t\treturn this.$store.state.userLogin.userLogin\r\n\t\t\t},\r\n\t\t\tseleSpotFile() {\r\n\t\t\t\treturn this.$store.state.details.seleSpotFile\r\n\t\t\t},\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tif(this.options.implement == \"true\"){\r\n\t\t\t\tthis.chooseWxImageVideo();\r\n\t\t\t}else{\r\n\t\t\t\tthis.spareFlie = this.seleSpotFile.imgList;\r\n\t\t\t\tfor(let i=0; i<this.seleSpotFile.imgList.length; i++){\r\n\t\t\t\t\tif(this.seleSpotFile.imgList[i].isSelect){\r\n\t\t\t\t\t\tthis.selectTempFlie = this.seleSpotFile.imgList[i];\r\n\t\t\t\t\t\tthis.selectImgIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.selectTempFlie)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdestroyed: function(){\r\n\t\t\t\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\tthis.options = options;\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonHide: function(options) {\r\n\t\t\t\r\n\t\t},\r\n\t\tonReachBottom: function(options) {\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tonPullDownRefresh() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tselectTempFlie(newVal, oldVal) {\r\n\t\t\t\tif(newVal.location){\r\n\t\t\t\t\tthis.controls = true;\r\n\t\t\t\t\tthis.videoPosterImg = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPageScroll: function(e) {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 图片视频选择\r\n\t\t\tselectImgCh(index){\r\n\t\t\t\tthis.selectImgIndex = index;\r\n\t\t\t\tfor(let i=0; i<this.spareFlie.length; i++){\r\n\t\t\t\t\tthis.spareFlie[i].isSelect = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.spareFlie[index].isSelect = true;\r\n\t\t\t\tthis.selectTempFlie = this.spareFlie[index];\r\n\t\t\t},\r\n\t\t\t// 图片浏览\r\n\t\t\tflieBrowse(){\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: [this.selectTempFlie.fileUrl],\r\n\t\t\t\t\tcurrent: 0\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 图片长按删除\r\n\t\t\tlongpressCh(index){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否确认删除图片？',\r\n\t\t\t\t\tsuccess (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t_this.spareFlie.splice(index, 1);\r\n\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie.length > 0 ? _this.spareFlie[0] : {fileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',shootTime: ''};\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 确认\r\n\t\t\tsubmit(){ \r\n\t\t\t\tconsole.log(this.spareFlie)\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t// 先删除已存的所有图片\r\n\t\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFile\":{\"taskId\":' + this.seleSpotFile.taskId + ', \"spotClassType\":' + this.seleSpotFile.spotClassType + ', \"monitorStage\":' + this.seleSpotFile.monitorStage + '}';\r\n\t\t\t\t\tthis.$store.dispatch('myList/taskfileDelete', {parms,\r\n\t\t\t\t\t\tcallback: (res1) => {\r\n\t\t\t\t\t\t\tconsole.log(res1);\r\n\t\t\t\t\t\t\tresolve(res1)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// 重新提交现所有的图片\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '提交中'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFiles\":'+ JSON.stringify(this.spareFlie) + '';\r\n\t\t\t\t\tthis.$store.dispatch('details/taskfileSave', {parms,\r\n\t\t\t\t\t\tcallback: (res2) => {\r\n\t\t\t\t\t\t\tconsole.log(res2);\r\n\t\t\t\t\t\t\tif (res2.errorCode == 0) {\r\n\t\t\t\t\t\t\t\twx.navigateBack({\r\n\t\t\t\t\t\t\t\t\tdelta: 1,  // 返回上一级页面。\r\n\t\t\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('成功！')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseWxImageVideo(){\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.options.implement = \"false\";\r\n\t\t\t\t// 获取当前定位坐标,成功后才执行拍照/视频\r\n\t\t\t\twx.getLocation({\r\n\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\tsuccess: function (res1) {\r\n\t\t\t\t        console.log(res1)\r\n\t\t\t\t\t\t// 通过经纬度获取详细地址\r\n\t\t\t\t\t\tlet parms = '},\"position\":{\"lat\":\"' + res1.latitude + '\", \"lng\":\"' + res1.longitude + '\"}';\r\n\t\t\t\t\t\t_this.$store.dispatch('details/getPosition', {parms,\r\n\t\t\t\t\t\t\tcallback: (res2) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res2)\r\n\t\t\t\t\t\t\t\tif(res2.errorCode == 0){\r\n\t\t\t\t\t\t\t\t\tfor(let i=0; i<_this.spareFlie.length; i++){\r\n\t\t\t\t\t\t\t\t\t\t_this.spareFlie[i].isSelect= false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet commonList = {\r\n\t\t\t\t\t\t\t\t\t\ttaskId: _this.seleSpotFile.taskId,\r\n\t\t\t\t\t\t\t\t\t\tshootTime: _this.dateToUnix(_this.getCurrentTime()),\r\n\t\t\t\t\t\t\t\t\t\tlat: res1.latitude,\r\n\t\t\t\t\t\t\t\t\t\tlon: res1.longitude,\r\n\t\t\t\t\t\t\t\t\t\tlocation: res2.spotLocation,\r\n\t\t\t\t\t\t\t\t\t\tmonitorStage: _this.seleSpotFile.monitorStage,\r\n\t\t\t\t\t\t\t\t\t\tspotClassType: _this.seleSpotFile.spotClassType,\r\n\t\t\t\t\t\t\t\t\t\tdescription: res1.latitude + ',' + res1.longitude,\r\n\t\t\t\t\t\t\t\t\t\tphoneSystem: _this.systemInfo.system,\r\n\t\t\t\t\t\t\t\t\t\tphoneSystemVersion: _this.systemInfo.model,\r\n\t\t\t\t\t\t\t\t\t\tphoneModel: _this.systemInfo.system,\r\n\t\t\t\t\t\t\t\t\t\tisSelect: true,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(_this.options.cameraType == 2){ // 拍照功能\r\n\t\t\t\t\t\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\t\t\t\t\t\tsizeType: ['original','compressed'],\r\n\t\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res3) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFiles[0].path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFiles[0].path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.tempFiles[0].size,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(_this.selectTempFlie)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}else{ // 视频功能\r\n\t\t\t\t\t\t\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDuration: 60,\r\n\t\t\t\t\t\t\t\t\t\t\tcamera: 'back',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res3) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3)\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie.unshift({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res3.tempFilePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res3.tempFilePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.size,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = _this.spareFlie[0];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取当前时间\r\n\t\t\tgetCurrentTime(){\r\n\t\t\t\tlet myDate = new Date();\r\n\t\t\t\t//获取当前年\r\n\t\t\t\tlet year=myDate.getFullYear();\r\n\t\t\t\t//获取当前月\r\n\t\t\t\tlet month=myDate.getMonth()+1;\r\n\t\t\t\t//获取当前日\r\n\t\t\t\tlet date=myDate.getDate(); \r\n\t\t\t\tlet h=myDate.getHours();       //获取当前小时数(0-23)\r\n\t\t\t\tlet m=myDate.getMinutes();     //获取当前分钟数(0-59)\r\n\t\t\t\tlet s=myDate.getSeconds();  \r\n\t\t\t\treturn year+'-'+this.getNow(month)+\"-\"+this.getNow(date)+\" \"+this.getNow(h)+':'+this.getNow(m)+\":\"+this.getNow(s);\r\n\t\t\t},\r\n\t\t\tgetNow(s) {\r\n\t\t\t\treturn s < 10 ? '0' + s: s;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t@import './photoSubmission.scss';\r\n</style>\r\n","import mod from \"-!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./photoSubmission.vue?vue&type=style&index=0&id=9e134ff2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./photoSubmission.vue?vue&type=style&index=0&id=9e134ff2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591983695864\n      var cssReload = require(\"D:/下载软件/HBuilderX.2.7.9.20200527/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}