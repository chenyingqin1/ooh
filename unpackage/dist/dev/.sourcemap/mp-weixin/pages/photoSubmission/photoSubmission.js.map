{"version":3,"sources":["webpack:///D:/OOH/main.js","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?d6b9","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?04e4","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?0f23","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?c81d","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?e709","webpack:///D:/OOH/pages/photoSubmission/photoSubmission.vue?ae02"],"names":["createPage","Page","mixins","allPage","publicCheck","components","beforeCreate","data","options","selectImgIndex","selectTempFlie","fileUrl","shootTime","location","description","seleSpotFile","spareFlie","newSpareFlie","isClickSubmit","computed","systemInfo","$store","state","userLogin","cameraType","details","temporaryFileList","seleSpotFilesIndex","onShow","getTaskfileFilequery","user","CaptureCacheMode","wx","setNavigationBarTitle","title","destroyed","onLoad","console","log","length","implement","chooseWxImageVideo","setData","onReady","onHide","onReachBottom","onPullDownRefresh","mounted","watch","onPageScroll","e","forEach","val","removeSavedFile","filePath","Promise","resolve","i","_this","imgList","indexOf","spotClassTypeName","getVideoInfo","src","success","res","push","complete","getImageInfo","then","j","isSelect","selectImgCh","index","flieBrowse","uni","previewImage","current","urls","longpressCh","text","showModal","content","confirm","id","status","parms","openid","dispatch","callback","temporaryFileListOp","splice","cancel","map","navigateTo","url","submit","showLoading","z","JSON","stringify","UploadStatus","res2","errorCode","showToast","errorMsg","icon","mask","hideLoading","navigateBack","delta","PhotosNum","platform","getLocation","type","res1","latitude","longitude","taskId","commonList","dateToUnix","getCurrentTime","lat","lon","gcj02lat","gcj02lon","spotLocation","monitorStage","spotClassType","phoneSystem","phoneSystemVersion","model","replace","phoneModel","version","mapImgUrl","distanceName","chooseImage","sizeType","sourceType","res3","saveFile","tempFilePath","tempFilePaths","res4","item","savedFilePath","thumbnailUrl","fileSize","tempFiles","size","$set","taskResult","tasks","monitorStages","spotFiles","fail","chooseVideo","maxDuration","camera","duration","error","openSetting","authSetting","myDate","Date","year","getFullYear","month","getMonth","date","getDate","h","getHours","m","getMinutes","s","getSeconds","getNow"],"mappings":"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","file":"pages/photoSubmission/photoSubmission.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/photoSubmission/photoSubmission.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./photoSubmission.vue?vue&type=template&id=19af26a0&scoped=true&\"\nvar renderjs\nimport script from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nexport * from \"./photoSubmission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./photoSubmission.vue?vue&type=style&index=0&id=19af26a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19af26a0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"D:/OOH/pages/photoSubmission/photoSubmission.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=template&id=19af26a0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.timestampToTime(_vm.selectTempFlie.shootTime)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport allPage from \"@/mixin/allPage_MX\";\nimport util from '@/common/util.js'\nimport publicCheck from \"@/mixin/publicCheck_MX.js\";\nexport default {\n\tmixins: [allPage,publicCheck],\n\tcomponents: {\n\t\t\n\t},\n\tbeforeCreate() {\n\n\t},\n\tdata() {\n\t\treturn {\n\t\t\toptions: null,\n\t\t\tselectImgIndex: null,\n\t\t\tselectTempFlie:{  \n\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\tshootTime: '',\n\t\t\t\tlocation: '',\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\tseleSpotFile:null,\n\t\t\tspareFlie:[],\n\t\t\tnewSpareFlie:[], //新增的文件\n\t\t\tisClickSubmit: false, //是否点击确认\n\t\t}\n\t},\n\tcomputed: {\n\t\tsystemInfo() {\n\t\t\treturn this.$store.state.userLogin.systemInfo\n\t\t},\n\t\tuserLogin() {\n\t\t\treturn this.$store.state.userLogin.userLogin\n\t\t},\n\t\t// seleSpotFile() {\n\t\t// \treturn this.$store.state.details.seleSpotFile\n\t\t// },\n\t\tcameraType() {\n\t\t\treturn this.$store.state.details.cameraType\n\t\t},\n\t\ttemporaryFileList() {\n\t\t\treturn this.$store.state.details.temporaryFileList\n\t\t},\n\t\tseleSpotFilesIndex() {\n\t\t\treturn this.$store.state.details.seleSpotFilesIndex\n\t\t},\n\t},\n\tonShow: function() {\n\t\tthis.getTaskfileFilequery()\n\t\tif (this.userLogin.user.CaptureCacheMode == 1) {\n\t\t\twx.setNavigationBarTitle({\n\t\t\t\ttitle: '文件提交' \n\t\t\t})\n\t\t} else {\n\t\t\twx.setNavigationBarTitle({\n\t\t\t\ttitle: '文件提交（手机）' \n\t\t\t})\n\t\t}\n\t},\n\tdestroyed: function(){\n\t\t\n\t},\n\tonLoad: function(options) {\n\t\tconsole.log(this.temporaryFileList.length , this.spareFlie.length)\n\t\tconsole.log(this.cameraType)\n\t\tthis.options = options;\n\t\tthis.seleSpotFile = this.$store.state.details.seleSpotFile;\n\t\tif(this.options.implement == \"true\"){\n\t\t\tthis.chooseWxImageVideo();\n\t\t}else{\n\t\t\tconsole.log(this.seleSpotFile);\n\t\t\tthis.setData();\n\t\t}\n\t},\n\tonReady: function() {\n\t\t\n\t},\n\tonHide: function(options) {\n\t\t\n\t},\n\tonReachBottom: function(options) {\n\t\t\n\t},\n\n\tonPullDownRefresh() {\n\t\t\n\t},\n\tmounted() {\n\t\t\n\t},\n\twatch: {\n\t\t\n\t},\n\tonPageScroll: function(e) {\n\t\t\n\t},\n\tdestroyed() {\n\t\tif (!this.isClickSubmit) {\n\t\t\tthis.newSpareFlie.forEach((val) => {\n\t\t\t\twx.removeSavedFile({\n\t\t\t\t\tfilePath: val.fileUrl,\n\t\t\t\t});\n\t\t\t})\n\t\t};\n\t},\n\tmethods: {\n\t\t// 数据初始化处理\n\t\tsetData() {\n\t\t\tnew Promise(resolve => {\n\t\t\t\tfor(let i = 0; i < this.seleSpotFile.imgList.length; i++){\n\t\t\t\t\t// 判断文件/目录是否存在\n\t\t\t\t\tlet _this = this;\n\t\t\t\t\tlet fileUrl = this.seleSpotFile.imgList[i].fileUrl;\n\t\t\t\t\tif (fileUrl && (fileUrl.indexOf('wxfile') != -1 || fileUrl.indexOf('http://store') != -1 || fileUrl.indexOf('http://tmp') != -1)) {\n\t\t\t\t\t\tif (this.seleSpotFile.imgList[i].spotClassTypeName == '视频') {\n\t\t\t\t\t\t\twx.getVideoInfo({\n\t\t\t\t\t\t\t\tsrc: fileUrl,\n\t\t\t\t\t\t\t\tsuccess (res) {\n\t\t\t\t\t\t\t\t\t_this.spareFlie.push(_this.seleSpotFile.imgList[i]);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete (res) {\n\t\t\t\t\t\t\t\t\tif (_this.seleSpotFile.imgList.length == i+1) {\n\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twx.getImageInfo({\n\t\t\t\t\t\t\t\tsrc: fileUrl,\n\t\t\t\t\t\t\t\tsuccess (res) {\n\t\t\t\t\t\t\t\t\t_this.spareFlie.push(_this.seleSpotFile.imgList[i]);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete (res) {\n\t\t\t\t\t\t\t\t\tif (_this.seleSpotFile.imgList.length == i+1) {\n\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.spareFlie.push(this.seleSpotFile.imgList[i]);\n\t\t\t\t\t\tif (_this.seleSpotFile.imgList.length == i+1) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(this.spareFlie)\n\t\t\t\t// 默认数据赋值\n\t\t\t\t// this.selectTempFlie = this.spareFlie[0];\n\t\t\t\t// this.selectImgIndex = 0;\n\t\t\t\tfor (let j = 0; j < this.spareFlie.length; j++) {\n\t\t\t\t\tif(this.spareFlie[j].isSelect){\n\t\t\t\t\t\tthis.selectTempFlie = this.spareFlie[j];\n\t\t\t\t\t\tthis.selectImgIndex = j;\n\t\t\t\t\t\t// break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(this.selectTempFlie)\n\t\t\t})\n\t\t},\n\t\t// 图片视频选择\n\t\tselectImgCh(index){\n\t\t\tthis.selectImgIndex = index;\n\t\t\tfor(let i=0; i<this.spareFlie.length; i++){\n\t\t\t\tthis.spareFlie[i].isSelect = false;\n\t\t\t}\n\t\t\tthis.spareFlie[index].isSelect = true;\n\t\t\tthis.selectTempFlie = this.spareFlie[index];\n\t\t},\n\t\t// 图片浏览\n\t\tflieBrowse(){\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: this.selectTempFlie.fileUrl,\n\t\t\t\turls: [this.selectTempFlie.fileUrl],\n\t\t\t})\n\t\t},\n\t\t// 图片长按删除\n\t\tlongpressCh(index){\n\t\t\tlet _this = this;\n\t\t\tlet text = this.cameraType == '1' ? '视频' : '图片';\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否确认删除'+ text +'？',\n\t\t\t\tsuccess (res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tlet data = _this.spareFlie[index];\n\t\t\t\t\t\twx.removeSavedFile({\n\t\t\t\t\t\t\tfilePath: data.fileUrl,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (data.id) {\n\t\t\t\t\t\t\tif (data.status == -1 || data.status == -2) {\n\t\t\t\t\t\t\t\t// let parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"spotFile\":{\"taskId\":' + data.taskId +\n\t\t\t\t\t\t\t\t// \t', \"spotClassType\":' + data.spotClassType + ', \"monitorStage\":' + data.monitorStage + '}';\n\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"spotFile\":{\"id\":' + data.id + '}';\n\t\t\t\t\t\t\t\t_this.$store.dispatch('myList/taskfileDelete', {\n\t\t\t\t\t\t\t\t\tparms,\n\t\t\t\t\t\t\t\t\tcallback: (res) => {\n\t\t\t\t\t\t\t\t\t\t_this.temporaryFileListOp(index);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (data.status == 0) {\n\t\t\t\t\t\t\t\tlet parms = '},\"spotFile\":{\"id\":' + data.id + '}';\n\t\t\t\t\t\t\t\t_this.$store.dispatch('details/fileDelete', {\n\t\t\t\t\t\t\t\t\tparms,\n\t\t\t\t\t\t\t\t\tcallback: (res) => {\n\t\t\t\t\t\t\t\t\t\t_this.temporaryFileListOp(index);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (let i = 0; i < _this.newSpareFlie.length; i++) {\n\t\t\t\t\t\t\t\tif (_this.newSpareFlie[i].fileUrl == _this.spareFlie[index].fileUrl) {\n\t\t\t\t\t\t\t\t\t_this.newSpareFlie.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_this.spareFlie.splice(index, 1);\n\t\t\t\t\t\t\tif (_this.spareFlie.length > 0) {\n\t\t\t\t\t\t\t\t_this.selectImgCh(0)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_this.selectTempFlie = {fileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',shootTime: ''}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log('用户点击取消')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttemporaryFileListOp(index) {\n\t\t\tfor (let i = 0; i < this.temporaryFileList.length; i++) {\n\t\t\t\tif (this.temporaryFileList[i].fileUrl == this.spareFlie[index].fileUrl) {\n\t\t\t\t\tthis.temporaryFileList.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.spareFlie.splice(index, 1);\n\t\t\tif (this.spareFlie.length > 0) {\n\t\t\t\tthis.selectImgCh(0)\n\t\t\t} else {\n\t\t\t\tthis.selectTempFlie = {fileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',shootTime: ''}\n\t\t\t}\n\t\t},\n\t\t// 地图查看\n\t\tmap(){\n\t\t\tthis.$store.state.details.selectTempFlie = this.selectTempFlie;\n\t\t\tuni.navigateTo({\n\t\t\t    url: \"/pages/map/map\"\n\t\t\t})\n\t\t},\n\t\t// 确认\n\t\tsubmit(){\n\t\t\tconsole.log(this.spareFlie)\n\t\t\tif (!this.spareFlie.length) { return false }\n\t\t\tthis.isClickSubmit = true;\n\t\t\t// 重新提交现所有的图片\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '提交中'\n\t\t\t});\n\t\t\tfor (let z=0; z<this.spareFlie.length; z++) {\n\t\t\t\tthis.spareFlie[z].isSelect = false;\n\t\t\t\tif (this.selectTempFlie.id == this.spareFlie[z].id) {\n\t\t\t\t\tthis.spareFlie[z].isSelect = true;\n\t\t\t\t\tconsole.log('this.spareFlie[z]', this.spareFlie[z])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.userLogin.user.CaptureCacheMode == 1) {\n\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\tfor (let i = 0; i < this.spareFlie.length; i++) {\n\t\t\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFile\":'+ JSON.stringify(this.spareFlie[i]) + '';\n\t\t\t\t\t\tlet fileUrl = this.spareFlie[i].fileUrl;\n\t\t\t\t\t\tconsole.log(parms)\n\t\t\t\t\t\tif (!this.spareFlie[i].UploadStatus || this.spareFlie[i].UploadStatus == 0) {\n\t\t\t\t\t\t\tthis.$store.dispatch('details/taskfileUploadAll', {parms, fileUrl,\n\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\twx.removeSavedFile({\n\t\t\t\t\t\t\t\t\t\tfilePath: fileUrl,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\tif (this.spareFlie.length == i+1) {\n\t\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$store.dispatch('details/taskfileUploadAlls', {parms,\n\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\tif (this.spareFlie.length == i+1) {\n\t\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\twx.navigateBack({\n\t\t\t\t\t\tdelta: 1,  // 返回上一级页面。\n\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\tconsole.log('成功！')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFiles\":'+ JSON.stringify(this.spareFlie) + '';\n\t\t\t\tthis.$store.dispatch('details/taskfileSave', {parms,\n\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\twx.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1,  // 返回上一级页面。\n\t\t\t\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t\t\t\tconsole.log('成功！')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 唤起手机拍照/视频功能\n\t\tchooseWxImageVideo(){\n\t\t\tconsole.log('临时文件总数', this.temporaryFileList.length + this.newSpareFlie.length)\n\t\t\tif (this.temporaryFileList.length + this.newSpareFlie.length  > this.userLogin.user.PhotosNum - 1) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '拍照数量不能超出' + this.userLogin.user.PhotosNum + '个,请先提交现有的拍照。',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// pc打开不予执行\n\t\t\tif(this.systemInfo.platform == \"windows\"){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '非法操作，不允许PC端上传！',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tthis.options.implement = \"false\";\n\t\t\t// 获取当前定位坐标,成功后才执行拍照/视频\n\t\t\twx.getLocation({\n\t\t\t\ttype: 'gcj02',\n\t\t\t\tsuccess: function (res1) {\n\t\t\t        console.log(res1)\n\t\t\t\t\t// 通过经纬度获取详细地址\n\t\t\t\t\tlet parms = '},\"position\":{\"lat\":\"' + res1.latitude + '\", \"lng\":\"' + res1.longitude + '\", \"taskId\":\"' + _this.seleSpotFile.taskId + '\", \"type\":\"GCJ02\"}';\n\t\t\t\t\t_this.$store.dispatch('details/getPosition', {parms,\n\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\tconsole.log(res2)\n\t\t\t\t\t\t\tif(res2.errorCode == 0){\n\t\t\t\t\t\t\t\tfor(let i=0; i<_this.spareFlie.length; i++){\n\t\t\t\t\t\t\t\t\t_this.spareFlie[i].isSelect= false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet commonList = {\n\t\t\t\t\t\t\t\t\ttaskId: _this.seleSpotFile.taskId,\n\t\t\t\t\t\t\t\t\tshootTime: _this.dateToUnix(_this.getCurrentTime()),\n\t\t\t\t\t\t\t\t\tlat: res2.lat,\n\t\t\t\t\t\t\t\t\tlon: res2.lon,\n\t\t\t\t\t\t\t\t\tgcj02lat: res1.latitude,\n\t\t\t\t\t\t\t\t\tgcj02lon: res1.longitude,\n\t\t\t\t\t\t\t\t\tlocation: res2.spotLocation,\n\t\t\t\t\t\t\t\t\tmonitorStage: _this.seleSpotFile.monitorStage,\n\t\t\t\t\t\t\t\t\tspotClassType: _this.seleSpotFile.spotClassType,\n\t\t\t\t\t\t\t\t\tdescription: res2.lat + ',' + res2.lon,\n\t\t\t\t\t\t\t\t\tphoneSystem: '微信小程序',\n\t\t\t\t\t\t\t\t\tphoneSystemVersion: _this.systemInfo.model.replace(/[@<>#\\$%\\^&\\*]+/g, ''),\n\t\t\t\t\t\t\t\t\tphoneModel: '12.4 【'+ _this.systemInfo.version +'】',\n\t\t\t\t\t\t\t\t\tisSelect: true,\n\t\t\t\t\t\t\t\t\tmapImgUrl: res2.mapImgUrl,\n\t\t\t\t\t\t\t\t\tdistanceName: res2.distanceName,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(_this.cameraType == 2){ // 拍照功能\n\t\t\t\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\t\t\t\tsizeType: ['original'],\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3);\n\t\t\t\t\t\t\t\t\t\t\t// 保存文件到本地\n\t\t\t\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\t\t\t\ttempFilePath: res3.tempFilePaths[0],\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess (res4) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res4)\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet item = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res4.savedFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res4.savedFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.tempFiles[0].size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"spotFile\":'+ JSON.stringify(item) + '';\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet fileUrl = item.fileUrl;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (_this.userLogin.user.CaptureCacheMode == 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 点击使用照片后,上传服务器\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/taskfileUploadAll', {parms, fileUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twx.removeSavedFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: fileUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 重新获取最新的那条选中数据,渲染页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"taskQuery\":{\"taskId\":' + _this.options.id + '}';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/getTaskDetail', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res2', res2)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectImgIndex = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = {  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshootTime: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$set(_this, 'seleSpotFile', res2.taskResult.tasks[0].monitorStages[_this.seleSpotFilesIndex[0]].spotFiles[_this.seleSpotFilesIndex[1]])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.setData();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 点击使用照片后,上传服务器\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/taskfileUploadAlls', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 重新获取最新的那条选中数据,渲染页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"taskQuery\":{\"taskId\":' + _this.options.id + '}';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/getTaskDetail', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectImgIndex = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = {  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshootTime: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$set(_this, 'seleSpotFile', res2.taskResult.tasks[0].monitorStages[_this.seleSpotFilesIndex[0]].spotFiles[_this.seleSpotFilesIndex[1]])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.setData();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(_this.selectTempFlie)\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tfail (res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{ // 视频功能\n\t\t\t\t\t\t\t\t\tuni.chooseVideo({\n\t\t\t\t\t\t\t\t\t\tsourceType: ['camera'],\n\t\t\t\t\t\t\t\t\t\tmaxDuration: 60,\n\t\t\t\t\t\t\t\t\t\tcamera: 'back',\n\t\t\t\t\t\t\t\t\t\tsuccess(res3) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res3)\n\t\t\t\t\t\t\t\t\t\t\tif (res3.size < 200000) {\n\t\t\t\t\t\t\t\t\t\t\t\twx.removeSavedFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '拍摄时间太短请重拍。',\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 5000,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// 保存文件到本地\n\t\t\t\t\t\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\t\t\t\t\t\ttempFilePath: res3.tempFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess (res4) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res4)\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet item = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...commonList,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: res4.savedFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthumbnailUrl: res4.savedFilePath,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileSize: res3.size,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"spotFile\":'+ JSON.stringify(item) + '';\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet fileUrl = item.fileUrl;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (_this.userLogin.user.CaptureCacheMode == 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 点击使用照片后,上传服务器\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/taskfileUploadAll', {parms, fileUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twx.removeSavedFile({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePath: fileUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 重新获取最新的那条选中数据,渲染页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"taskQuery\":{\"taskId\":' + _this.options.id + '}';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/getTaskDetail', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res2', res2)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectImgIndex = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = {  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshootTime: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$set(_this, 'seleSpotFile', res2.taskResult.tasks[0].monitorStages[_this.seleSpotFilesIndex[0]].spotFiles[_this.seleSpotFilesIndex[1]])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.setData();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 点击使用照片后,上传服务器\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/taskfileUploadAlls', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res2.errorCode == 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 重新获取最新的那条选中数据,渲染页面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet parms = ',\"openid\":\"' + _this.userLogin.user.openid + '\"},\"taskQuery\":{\"taskId\":' + _this.options.id + '}';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$store.dispatch('details/getTaskDetail', {parms,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: (res2) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res2)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectImgIndex = null;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.selectTempFlie = {  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfileUrl: 'https://oohmonitoring.dentsuaegis.cn:8081/images/OSicons/pv-bg.jpg',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshootTime: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocation: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.spareFlie = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.$set(_this, 'seleSpotFile', res2.taskResult.tasks[0].monitorStages[_this.seleSpotFilesIndex[0]].spotFiles[_this.seleSpotFilesIndex[1]])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this.setData();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res2.errorMsg,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(_this.spareFlie)\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tfail(error){\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail(e){\n\t\t\t\t\tconsole.log('获取坐标错误', e)\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: '需要获取您的位置用于在户外监播拍照模块记录您拍照的地点，若不允许，将无法拍照成功。',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res.authSetting)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//查获取所有临时文件数据\n\t\tgetTaskfileFilequery() {\n\t\t\tlet parms = ',\"openid\":\"' + this.userLogin.user.openid + '\"},\"spotFileQuery\":{\"taskIdStr\":\"\"}';\n\t\t\tthis.$store.dispatch('details/getTaskfileFilequery', {\n\t\t\t\tparms,\n\t\t\t\tcallback: (res) => {\n\t\t\t\t\tconsole.log('文件list', res)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取当前时间\n\t\tgetCurrentTime(){\n\t\t\tlet myDate = new Date();\n\t\t\t//获取当前年\n\t\t\tlet year=myDate.getFullYear();\n\t\t\t//获取当前月\n\t\t\tlet month=myDate.getMonth()+1;\n\t\t\t//获取当前日\n\t\t\tlet date=myDate.getDate(); \n\t\t\tlet h=myDate.getHours();       //获取当前小时数(0-23)\n\t\t\tlet m=myDate.getMinutes();     //获取当前分钟数(0-59)\n\t\t\tlet s=myDate.getSeconds();  \n\t\t\treturn year+'-'+this.getNow(month)+\"-\"+this.getNow(date)+\" \"+this.getNow(h)+':'+this.getNow(m)+\":\"+this.getNow(s);\n\t\t},\n\t\tgetNow(s) {\n\t\t\treturn s < 10 ? '0' + s: s;\n\t\t}\n\t},\n\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=19af26a0&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./photoSubmission.vue?vue&type=style&index=0&id=19af26a0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598239935458\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}